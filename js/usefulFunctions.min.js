const x=e=>new Decimal(e);function floor(e,t){return Math.floor(e*10**t)/10**t}function abb(e,t=2,n=!1){e=x(e),n&&e.lt(x("0e0"))&&(e=x("0e0"));let o=["","k","M","B","T","Qd","Qn","Sx","Sp","Oc","No","Dc","Ud","Dd","Td","Qad","Qid","Sxd","Spd","Ocd","Nd","Vg","Uvg","Dvg","Tvg","Qavg","Qivg","Sxvg","Spvg","Ocvg","Nvg","Tg"];if(e.eq("0"))return"0";if(e.lt("1e3"))return t?e.toNumber().toFixed(t):e.floor().toNumber().toFixed(t);if(e.lt("1e6"))return e.floor().toNumber().toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",");if(e.lt(x(1e3).pow(o.length))){let i=e.log(1e3).abs().floor(),r=e.div(Decimal.pow(1e3,i));return r.toFixed(3-+r.log(10).floor())+o[i.toNumber()]}if(e.lt("ee6")){let l=e.log10();return l=l.plus(l.div(1e9)).floor(),e.div(x(10).pow(l)).toNumber().toFixed(2)+"e"+abb(l,0)}else if(e.lt("eeee10"))return"e"+abb(e.log10(),t);else return"F"+abb(e.slog(10),t)}function abb_int(e){return abb(e,0)}function abb_abs(e){return abb(e,void 0,!0)}function abb_abs_int(e){return abb(e,0,!0)}function romanize(e){if(e instanceof Decimal&&(e=e.toNumber()),isNaN(e))return NaN;for(var t=String(+e).split(""),n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],o="",i=3;i--;)o=(n[+t.pop()+10*i]||"")+o;return Array(+t.join("")+1).join("M")+o}function save(){if(settings.save&&player!=getDefaultPlayerValues()){let e={};for(let t in player)e[t]=player[t];for(let n in e)e[n]instanceof Decimal&&(e[n]=e[n].toString());localStorage.setItem(settings.game_name,btoa(JSON.stringify(e))),console.log("Succesfully saved")}}function load(e=localStorage.getItem(settings.game_name)){let t=!1;try{JSON.parse(e),t=!0}catch{t=!1}if(t&&(save(),e=btoa(e)),e){for(let n in e=JSON.parse(atob(e)))if(e.hasOwnProperty(n)){if("string"==typeof e[n]&&(e[n].includes("e")||/\d/.test(e[n]))){let o=x(e[n]).toNumber();o!=NaN&&void 0!=o?e[n]=x(e[n]):console.warn(`Load value failed: value is ${o} for ${n}`)}if("points"===n)for(let i in e.points)e.points[i]=x(e.points[i])}}return e}function loadToPlayer(e){let t=load(e);if(t)for(let n in t)player[n]=t[n]}function fixValues(){for(let e in player)player[e]instanceof Decimal&&(player[e].isNan()?player[e]=x(0):player[e].lt(0)&&(player[e]=x(0)));for(let t in player.upgrades)player.upgrades[t].forEach(function(e){e.bought_times.gt(e.buyable_times)&&(e.bought_times=e.buyable_times)})}function getLoopInterval(){return 1e3/settings.fps}function numToTime(e){e instanceof Decimal==!1&&(e=x(e));let t=["d","h","m","s","ms","Î¼s","ns"],n=t.indexOf("s"),o=n;if(e.gte(1)){let i=1;e.gte(60)&&(o--,i=60),e.gte(3600)&&(o--,i=3600),e.gte(86400)&&(o--,i=86400),e=e.div(i)}else if(e.lt(1)){let r=e.log(1e3).abs().floor().plus(1);(o=n+ +r)>=t.length&&(o=t.length-1),(e=e.times(Decimal.pow(1e3,r.min(t.length-n)))).eq(1e3)&&(e=e.div(1e3),o--)}return abb_abs(e)+t[o]}function shuffleArray(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function MurmurHash3(e){let t=0;for(hash=1779033703^e.length;t<e.length;t++)hash=(hash=Math.imul(hash^e.charCodeAt(t),3432918353))<<13|hash>>>19;return()=>(hash=Math.imul((hash=Math.imul(hash^hash>>>16,2246822507))^hash>>>13,3266489909),(hash^=hash>>>16)>>>0)}function SimpleFastCounter32(e,t,n,o){return()=>{n>>>=0,o>>>=0;let i=(e>>>=0)+(t>>>=0)|0;return e=t^t>>>9,t=n+(n<<3)|0,n=(n=n<<21|n>>>11)+(i=i+(o=o+1|0)|0)|0,(i>>>0)/4294967296}}function Round(e,t=4){return e.plus(e.div(Decimal.pow(10,t).round())).floor()}function isCharNumber(e){return"string"==typeof e&&1===e.length&&e>="0"&&e<="9"}function msToTime(e){var t=e%1e3,n=(e=(e-t)/1e3)%60,o=(e=(e-n)/60)%60,i=(e-o)/60;return(i?i+"h. ":"")+(i||o?o+"m. ":"")+n+"s. "}Decimal.prototype.softcap=function(e,t,n,o=!1){var i=this;return!o&&i.gte(e)&&([0,"pow"].includes(n)&&(i=i.div(e).max(1).pow(t).mul(e)),[1,"mul"].includes(n)&&(i=i.sub(e).div(t).add(e)),[2,"exp"].includes(n)&&(i=expPow(i.div(e),t).mul(e)),[3,"log"].includes(n)&&(i=i.div(e).log(t).add(1).mul(e))),i},Decimal.prototype.overflow=function(e,t,n=1){let o=this;if(isNaN(o.mag))return new Decimal(0);if(e=Decimal.iteratedexp(10,n-1,1.0001).max(e),o.gte(e)){let i=e.iteratedlog(10,n);o=Decimal.iteratedexp(10,n,o.iteratedlog(10,n).div(i).pow(t).mul(i))}return o};let textFile=null,makeTextFile=function(e){var t=new Blob([e],{type:"text/plain"});return null!==textFile&&window.URL.revokeObjectURL(textFile),textFile=window.URL.createObjectURL(t)},downloadFile=function(e,t){let n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t||"data.json"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),n.remove()};